<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>UndoRdo</title>
    <style>
      * {
        padding: 0;
        margin: 0;
      }
      main {
        width: 100%;
        height: 100vh;
        display: flex;
        justify-content: center;
        justify-items: center;
        margin-top: 100px;
      }
      .container {
        width: 400px;
        height: 400px;
        background-color: rgb(245, 245, 245);
        box-shadow: 2px 14px 10px 1px black;
        padding: 30px;
      }
      textarea {
        width: 100%;
        padding: 10px;
      }
      .button {
        display: flex;
        justify-items: end;
        justify-content: end;
        margin: 20px 0px;
        gap: 10px;
      }
      .button button {
        padding: 5px 10px;
        font-size: 20px;
        background-color: bisque;
        cursor: pointer;
      }
      .button button:hover {
        background-color: rgb(234, 184, 124);
        cursor: pointer;
      }
    </style>
  </head>
  <body>
    <main>
      <div class="container">
        <div class="text_container">
          <textarea name="" id="editor" rows="15"></textarea>

          <div class="button">
            <button id="undo">Undo</button>
            <button id="redo">Redo</button>
            <button id="show">Show</button>
          </div>
        </div>
      </div>
    </main>

    <script>
      class TextEditor {
        constructor() {
          this.undoStack = []
          this.redoStack = []
          this.currentText = ''
        }

        type(newText) {
          this.undoStack.push(this.currentText)
          this.currentText = newText
          this.redoStack = []
        }
        undo() {
          this.redoStack.push(this.currentText)
          this.currentText =this.undoStack.pop()
        }

        redo() {
          if (this.redoStack.length === 0) return
          this.undoStack.push(this.currentText)
          this.currentText = this.redoStack.pop()
        }

        show() {
          return this.currentText
        }
      }

      const editor = new TextEditor()
      const textArea = document.getElementById('editor')
      const undoBtn = document.getElementById('undo')
      const redoBtn = document.getElementById('redo')
      const showBtn = document.getElementById('show')

      textArea.addEventListener('input', e => {
        editor.type(e.target.value)
      })

      undoBtn.addEventListener('click', () => {
        editor.undo()
        textArea.value = editor.show()
      })
      redoBtn.addEventListener('click', () => {
        editor.redo()
        textArea.value = editor.show()
      })

      showBtn.addEventListener('click', () => {
        console.log(this.redoStack, ':', this.undoStack)
        alert('Current Text: ' + editor.show())
      })
    </script>
  </body>
</html>
